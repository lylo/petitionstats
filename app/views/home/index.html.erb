<h1 class="ui header">
  Article 50 Petition Stats
</h1>

<p>
  There is currently a petition running in the UK to <a href="https://petition.parliament.uk/petitions/241584">Revoke Article 50 and remain in the EU</a>. I was interested to know which countries these votes were coming from. You can see the data below, which is based on the <a href="https://petition.parliament.uk/petitions/241584.json">official data feed</a>.</p>
<p>
  The total number of signatures on the petition is currently <strong><%= number_with_delimiter @total_signatures %></strong>.
</p>

<table class="ui celled table">
  <thead>
    <tr>
      <th>Country</th>
      <th>Number of signatures</th>
    </tr>
  </thead>

  <tbody>
  <% @country_hash.each do |country, count| %>
  <tr>
    <td><%= country %></td>
    <td>
      <%= number_with_delimiter count %>
      (<%= number_to_percentage count.to_f / @total_signatures * 100, precision: 2 %>)
    </td>
  </tr>
  <% end %>
  </tbody>
</table>
